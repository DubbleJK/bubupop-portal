# BUBUPOP 웹 배포 단계별 가이드

포털(bubucalculate-app)과 견적 계산기(quotation-app) 두 개를 **Vercel**에 배포하는 방법입니다.  
무료 계정으로 두 사이트 모두 배포할 수 있습니다.

---

## 준비물

- [GitHub](https://github.com) 계정
- [Vercel](https://vercel.com) 계정 (GitHub로 가입 가능)
- 사용할 API 키들 (OpenAI, 네이버 데이터랩, 네이버 검색광고 – 선택)

---

## 1단계: GitHub에 코드 올리기

### 1-1. GitHub에서 저장소 만들기

1. https://github.com 로그인 후 **New repository** 클릭
2. 저장소 이름 예: `bubupop-portal` (포털용), `bubupop-quotation` (견적용)
3. **Public** 선택 후 **Create repository** 클릭
4. 포털용·견적용 **각각** 저장소를 하나씩 만듭니다.

### 1-2. 포털(bubucalculate-app) 코드 푸시

1. **명령 프롬프트** 또는 **PowerShell**을 엽니다.
2. 포털 폴더로 이동 후 Git 초기화·푸시:

```bash
cd C:\Users\USER\bubucalculate-app
git init
git add .
git commit -m "Initial commit: BUBUPOP portal"
git branch -M main
git remote add origin https://github.com/내아이디/bubupop-portal.git
git push -u origin main
```

- `내아이디`를 본인 GitHub 아이디로 바꾸세요.
- 이미 `git init`이 되어 있으면 `git init`은 건너뛰고, `git add .` 부터 진행하면 됩니다.

### 1-3. 견적(quotation-app) 코드 푸시

1. **새 터미널**을 열고 견적 폴더로 이동:

```bash
cd C:\Users\USER\quotation-app
git init
git add .
git commit -m "Initial commit: quotation calculator"
git branch -M main
git remote add origin https://github.com/내아이디/bubupop-quotation.git
git push -u origin main
```

- `내아이디`를 본인 GitHub 아이디로 바꾸세요.

---

## 2단계: Vercel에 견적 앱(quotation-app) 먼저 배포

1. https://vercel.com 로그인 (GitHub 연동 권한 허용)
2. **Add New…** → **Project** 클릭
3. **Import** 탭에서 `bubupop-quotation` 저장소 선택 후 **Import** 클릭
4. **Root Directory**는 그대로 두고 **Deploy** 클릭
5. 배포가 끝나면 **Visit**로 접속해 보세요.  
   주소 예: `https://bubupop-quotation.vercel.app`  
   → **이 주소를 메모**합니다. (포털에서 견적 링크로 씁니다.)

### (선택) 견적 앱 환경 변수

- 포털 주소를 “홈으로 가기”에 쓰려면:
  - **Project Settings** → **Environment Variables**
  - 이름: `NEXT_PUBLIC_PORTAL_URL`  
  - 값: 나중에 배포할 **포털 주소** (예: `https://bubupop-portal.vercel.app`)  
  - 저장 후 **Redeploy** 한 번 실행

---

## 3단계: Vercel에 포털(bubucalculate-app) 배포

1. Vercel에서 **Add New…** → **Project**
2. **Import** 탭에서 `bubupop-portal` 저장소 선택 후 **Import**
3. **Root Directory**는 그대로 두고, **Environment Variables**를 먼저 넣습니다.

### 포털 환경 변수 (필요한 것만)

| 이름 | 값 | 비고 |
|------|-----|------|
| `NEXT_PUBLIC_QUOTATION_APP_URL` | `https://bubupop-quotation.vercel.app` | 2단계에서 적어 둔 견적 앱 주소 |
| `OPENAI_API_KEY` | `sk-...` | 블로그·키워드 기능 사용 시 |
| `NAVER_CLIENT_ID` | (발급값) | 키워드 검색 트렌드 사용 시 |
| `NAVER_CLIENT_SECRET` | (발급값) | 키워드 검색 트렌드 사용 시 |
| `NAVER_SEARCHAD_CUSTOMER_ID` | (발급값) | 키워드 월간검색량 사용 시 |
| `NAVER_SEARCHAD_ACCESS_LICENSE` | (발급값) | 위와 같음 |
| `NAVER_SEARCHAD_SECRET_KEY` | (발급값) | 위와 같음 |

- **Add**로 하나씩 넣은 뒤 **Deploy** 클릭합니다.
4. 배포가 끝나면 **Visit**로 포털 주소를 확인합니다.  
   예: `https://bubupop-portal.vercel.app`

---

## 4단계: 견적 앱에 포털 주소 넣기 (홈으로 가기)

1. Vercel 대시보드에서 **견적 앱(quotation)** 프로젝트 클릭
2. **Settings** → **Environment Variables**
3. `NEXT_PUBLIC_PORTAL_URL` 추가 (아직 안 넣었다면)  
   - 값: 포털 주소 (예: `https://bubupop-portal.vercel.app`)
4. **Deployments** → 맨 위 배포 오른쪽 **⋯** → **Redeploy**  
   → “홈으로 가기”를 누르면 포털로 이동하는지 확인합니다.

---

## 5단계: 로고 이미지 확인

- 포털 로고는 `bubucalculate-app/public/logo.png` 에 있어야 합니다.
- 이 파일을 커밋·푸시했으면 배포된 포털에도 자동으로 반영됩니다.
- 없으면 `public/logo.png` 를 추가한 뒤 `git add .` → `git commit` → `git push` 하면 됩니다.

---

## 6단계: 동작 확인

1. **포털** (`https://포털주소.vercel.app`) 접속  
   - 로고, BUBUPOP, 카드 3개(견적 계산기, 키워드, 블로그)가 보이는지 확인
2. **견적 계산기** 카드 클릭  
   - 견적 앱이 새 탭에서 열리는지 확인
3. 견적 앱에서 **홈으로 가기 (부부계산 포털)** 클릭  
   - 포털로 돌아오는지 확인
4. **키워드 검색량**, **네이버 SEO 블로그** 메뉴도 각각 눌러 보며 동작 확인

---

## 요약

| 순서 | 할 일 |
|------|--------|
| 1 | GitHub에 포털·견적 저장소 각각 만들고 코드 푸시 |
| 2 | Vercel에서 견적 앱 먼저 배포 → 견적 URL 메모 |
| 3 | Vercel에서 포털 배포, 환경 변수에 견적 URL 등 설정 |
| 4 | 견적 앱에 포털 URL 환경 변수 넣고 Redeploy |
| 5 | 로고(logo.png)가 public에 있는지 확인 |
| 6 | 두 사이트 접속해서 메뉴·링크 전부 확인 |

---

## 문제가 생겼을 때

- **빌드 실패**: Vercel 프로젝트 **Deployments** 탭에서 실패한 배포 클릭 → **Building** 로그를 보면 에러 원인을 확인할 수 있습니다.
- **환경 변수**: `NEXT_PUBLIC_` 로 시작하는 변수만 브라우저에서 쓰입니다. 값을 바꾼 뒤에는 **Redeploy**가 필요합니다.
- **404 / 페이지 안 나옴**: Next.js는 대부분 자동으로 라우팅되므로, 저장소 **Root Directory**가 올바른지(포털이면 포털 폴더만, 견적이면 견적 폴더만) 확인하세요.

이 순서대로 하시면 BUBUPOP 포털과 견적 계산기를 웹에 배포할 수 있습니다.
